[{"path":"https://atsyplenkov.github.io/tidyhydro/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 tidyhydro authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Anatoly Tsyplenkov. Maintainer, author, copyright holder.","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Tsyplenkov (2025). tidyhydro: Tidy Metrics Assessing Hydrological Models Performance. R package version 0.1.1, https://github.com/atsyplenkov/tidyhydro.","code":"@Manual{,   title = {tidyhydro: Tidy Metrics for Assessing Hydrological Models Performance},   author = {Anatoly Tsyplenkov},   year = {2025},   note = {R package version 0.1.1},   url = {https://github.com/atsyplenkov/tidyhydro}, }"},{"path":"https://atsyplenkov.github.io/tidyhydro/index.html","id":"tidyhydro","dir":"","previous_headings":"","what":"Tidy Metrics for Assessing Hydrological Models Performance","title":"Tidy Metrics for Assessing Hydrological Models Performance","text":"tidyhydro package provides set commonly used metrics hydrology (NSE, KGE, pBIAS) use within tidymodels infrastructure. Originally inspired yardstick hydroGOF packages, library mainly written C++ provides quick estimation desired goodness--fit criteria. Additionally, ’ll find C++ implementation lesser-known yet powerful metrics used reports United States Geological Survey (USGS) National Environmental Monitoring Standards (NEMS) guidelines. Examples include PRESS (Prediction Error Sum Squares), SFE (Standard Factorial Error), MSPE (Model Standard Percentage Error) others. Based equations Helsel et al. (2020), Rasmunsen et al. (2008), Hicks et al. (2020) etc. (see documentation details).","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Tidy Metrics for Assessing Hydrological Models Performance","text":"tidyhydro package follows philosophy yardstick provides S3 class methods vectors data frames. example, one can estimate NSE pBIAS data frame like : create metric_set estimate several parameters like : understand sometimes one needs qualitative interpretation model. Therefore, populated functions performance argument. performance = TRUE, metric interpretation returned according Moriasi et al. (2015).","code":"library(tidyhydro) data(avacha)  avacha #> # A data frame: 365 × 3 #>    date         obs   sim #>    <date>     <dbl> <dbl> #>  1 2022-01-01  76.2  84.8 #>  2 2022-01-02  76.2  84.3 #>  3 2022-01-03  76.3  84.0 #>  4 2022-01-04  76.3  83.7 #>  5 2022-01-05  76.4  83.4 #>  6 2022-01-06  76.4  83.1 #>  7 2022-01-07  76.5  83.0 #>  8 2022-01-08  76.5  82.9 #>  9 2022-01-09  76.6  82.8 #> 10 2022-01-10  76.6  82.7 #> # ℹ 355 more rows  kge(avacha, obs, sim) #> # A tibble: 1 × 3 #>   .metric .estimator .estimate #>   <chr>   <chr>          <dbl> #> 1 kge     standard       0.947 hydro_metrics <- yardstick::metric_set(nse, pbias)  hydro_metrics(avacha, obs, sim) #> # A tibble: 2 × 3 #>   .metric .estimator .estimate #>   <chr>   <chr>          <dbl> #> 1 nse     standard      0.895  #> 2 pbias   standard      0.0540 hydro_metrics(avacha, obs, sim, performance = TRUE) #> # A tibble: 2 × 3 #>   .metric .estimator .estimate #>   <chr>   <chr>      <chr>     #> 1 nse     standard   Excellent #> 2 pbias   standard   Excellent"},{"path":"https://atsyplenkov.github.io/tidyhydro/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Tidy Metrics for Assessing Hydrological Models Performance","text":"can install development version tidyhydro GitHub :","code":"# install.packages(\"pak\") pak::pak(\"atsyplenkov/tidyhydro\")"},{"path":"https://atsyplenkov.github.io/tidyhydro/index.html","id":"benchmarking","dir":"","previous_headings":"","what":"Benchmarking","title":"Tidy Metrics for Assessing Hydrological Models Performance","text":"Since package uses Rcpp background, performs slightly faster base R R packages. particularly noticeable large datasets:","code":"set.seed(12234) x <- runif(10^6) y <- runif(10^6)  nse <- function(truth, estimate, na_rm = TRUE) {   #fmt: skip   1 - (sum((truth - estimate)^2, na.rm = na_rm) /         sum((truth - mean(truth, na.rm = na_rm))^2, na.rm = na_rm)) }  bench::mark(   tidyhydro = tidyhydro::nse_vec(truth = x, estimate = y),   hydroGOF = hydroGOF::NSE(sim = y, obs = x),   baseR = nse(truth = x, estimate = y),   check = TRUE,   relative = TRUE,   filter_gc = FALSE,   iterations = 50L ) #> # A tibble: 3 × 6 #>   expression   min median `itr/sec` mem_alloc `gc/sec` #>   <bch:expr> <dbl>  <dbl>     <dbl>     <dbl>    <dbl> #> 1 tidyhydro    1      1       30.3        NaN      NaN #> 2 hydroGOF    21.7   24.3      1          Inf      Inf #> 3 baseR       13.4   15.1      1.94       Inf      Inf"},{"path":"https://atsyplenkov.github.io/tidyhydro/index.html","id":"see-also","dir":"","previous_headings":"","what":"See also","title":"Tidy Metrics for Assessing Hydrological Models Performance","text":"hydroGOF - Goodness--fit functions comparison simulated observed hydrological time series. yardstick - tidy methods models performance assessment.","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/avacha.html","id":null,"dir":"Reference","previous_headings":"","what":"Mean Daily Water Discharge At Avacha River (Elizovo City) — avacha","title":"Mean Daily Water Discharge At Avacha River (Elizovo City) — avacha","text":"Mean Daily Water Discharge Avacha River (Elizovo City)","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/avacha.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Mean Daily Water Discharge At Avacha River (Elizovo City) — avacha","text":"https://gmvo.skniivh.ru/ https://ewds.climate.copernicus.eu/datasets/cems-glofas-historical","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/avacha.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mean Daily Water Discharge At Avacha River (Elizovo City) — avacha","text":"avacha data frame","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/avacha.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Mean Daily Water Discharge At Avacha River (Elizovo City) — avacha","text":"data contain measured (obs) mean daily water discharge values (\\(m^3/s\\)) Avacha River – Elizovo City state gauging station 2022 calendar year. accompanied GloFAS v4.0 reanalysis water discharge values last 24 hours (sim), derived https://ewds.climate.copernicus.eu/datasets/cems-glofas-historical. Read GloFAS Water Discharge reanalysis – https://confluence.ecmwf.int/display/CEMS/GloFAS+v4.0","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/avacha.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mean Daily Water Discharge At Avacha River (Elizovo City) — avacha","text":"","code":"data(avacha) str(avacha) #> tibble [365 × 3] (S3: tbl_df/tbl/data.frame) #>  $ date: Date[1:365], format: \"2022-01-01\" \"2022-01-02\" ... #>  $ obs : num [1:365] 76.2 76.2 76.3 76.3 76.4 76.4 76.5 76.5 76.6 76.6 ... #>  $ sim : num [1:365] 84.8 84.3 84 83.7 83.4 ..."},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/kge.html","id":null,"dir":"Reference","previous_headings":"","what":"Kling-Gupta Efficiency (KGE) — kge","title":"Kling-Gupta Efficiency (KGE) — kge","text":"Calculate Kling-Gupta Efficiency (Gupta et al., 2009). Dimensionless (\\(-\\infty\\) 1). kge() assesses accuracy simulated data considering correlation, bias, variability relative observed data.","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/kge.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Kling-Gupta Efficiency (KGE) — kge","text":"","code":"kge(data, ...)  # S3 method for class 'data.frame' kge(data, truth, estimate, na_rm = TRUE, ...)  kge_vec(truth, estimate, na_rm = TRUE, ...)"},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/kge.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Kling-Gupta Efficiency (KGE) — kge","text":"data data.frame containing columns specified truth estimate arguments. ... currently used. truth column identifier true results (numeric). unquoted column name although argument passed expression supports quasiquotation (can unquote column names). _vec() functions, numeric vector. estimate column identifier predicted results (also numeric). truth can specified different ways primary method use unquoted variable name. _vec() functions, numeric vector. na_rm logical value indicating whether NA values stripped computation proceeds.","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/kge.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Kling-Gupta Efficiency (KGE) — kge","text":"tibble columns .metric, .estimator, .estimate 1 row values. grouped data frames, number rows returned number groups. kge_vec(), single numeric value (NA).","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/kge.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Kling-Gupta Efficiency (KGE) — kge","text":"Kling-Gupta Efficiency composite metric decomposes model performance three components: correlation (\\(r\\)), variability ratio (\\(\\alpha\\)), bias ratio (\\(\\beta\\)). improves upon Nash-Sutcliffe Efficiency (see nse) explicitly accounting source error (Gupta et al., 2009). Kling-Gupta Efficiency estimated follows: $$ KGE = 1 - \\sqrt{(r - 1)^2 + (\\alpha - 1)^2 + (\\beta - 1)^2} $$ : \\(r\\) linear Pearson correlation coefficient observed simulated values \\(\\alpha = \\sigma_{sim} / \\sigma_{obs}\\) ratio standard deviations (variability ratio) \\(\\beta = \\mu_{sim} / \\mu_{obs}\\) ratio means (bias ratio)","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/kge.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Kling-Gupta Efficiency (KGE) — kge","text":"Unlike Nash–Sutcliffe Efficiency (nse), KGE inherent benchmark \"mean flow\", \\(KGE = 0\\) correspond baseline performance. Therefore, KGE values interpreted \"good\" \"bad\" based solely sign magnitude. Instead, users encouraged examine individual components (\\(r\\), \\(\\alpha\\), \\(\\beta\\)) understand nature model performance consider defining explicit benchmarks based study context. discussion, see Knoben et al. (2019), caution directly translating NSE-based interpretation thresholds KGE.","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/kge.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Kling-Gupta Efficiency (KGE) — kge","text":"Gupta, H.V.; Kling, H.; Yilmaz, K.K.; Martinez, G.F. (2009). Decomposition mean squared error kge performance criteria: Implications improving hydrological modelling. Journal Hydrology, 377(1-2), 80-91. doi:10.1016/j.jhydrol.2009.08.003 Knoben, W. J. M., Freer, J. E., & Woods, R. . (2019). Technical note: Inherent benchmark ? Comparing Nash–Sutcliffe Kling–Gupta efficiency scores. Hydrology Earth System Sciences, 23, 4323–4331. doi:10.5194/hess-23-4323-2019","code":""},{"path":[]},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/kge.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Kling-Gupta Efficiency (KGE) — kge","text":"","code":"library(tidyhydro) data(avacha)  # Supply truth and predictions as bare column names kge(avacha, obs, sim) #> # A tibble: 1 × 3 #>   .metric .estimator .estimate #>   <chr>   <chr>          <dbl> #> 1 kge     standard       0.947  # Or as numeric vectors kge_vec(avacha$obs, avacha$sim) #> [1] 0.9473171"},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/kge2012.html","id":null,"dir":"Reference","previous_headings":"","what":"Modified Kling-Gupta Efficiency (KGE') — kge2012","title":"Modified Kling-Gupta Efficiency (KGE') — kge2012","text":"Calculate modified Kling-Gupta Efficiency (Kling et al., 2012), aka \\(KGE'\\). Dimensionless (\\(-\\infty\\) 1). kge2012() assesses accuracy simulated data considering correlation, bias, variability relative observed data.","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/kge2012.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Modified Kling-Gupta Efficiency (KGE') — kge2012","text":"","code":"kge2012(data, ...)  # S3 method for class 'data.frame' kge2012(data, truth, estimate, na_rm = TRUE, ...)  kge2012_vec(truth, estimate, na_rm = TRUE, ...)"},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/kge2012.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Modified Kling-Gupta Efficiency (KGE') — kge2012","text":"data data.frame containing columns specified truth estimate arguments. ... currently used. truth column identifier true results (numeric). unquoted column name although argument passed expression supports quasiquotation (can unquote column names). _vec() functions, numeric vector. estimate column identifier predicted results (also numeric). truth can specified different ways primary method use unquoted variable name. _vec() functions, numeric vector. na_rm logical value indicating whether NA values stripped computation proceeds.","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/kge2012.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Modified Kling-Gupta Efficiency (KGE') — kge2012","text":"tibble columns .metric, .estimator, .estimate 1 row values. grouped data frames, number rows returned number groups. kge2012_vec(), single numeric value (NA).","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/kge2012.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Modified Kling-Gupta Efficiency (KGE') — kge2012","text":"Modified Kling-Gupta Efficiency composite metric decomposes model performance three components: correlation (\\(r\\)), bias ratio (\\(\\beta\\)), variability ratio (\\(\\gamma\\)). improves upon Kling-Gupta Efficiency (see kge) replacing standard deviation Coefficient Variation. ensures bias variability ratios cross-correlated, otherwise may occur e.g. precipitation inputs biased. Modified Kling-Gupta Efficiency (\\(KGE'\\)) estimated follows: $$ KGE' = 1 - \\sqrt{(r - 1)^2 + (\\beta - 1)^2 + (\\gamma - 1)^2} $$ : \\(r\\) linear Pearson correlation coefficient observed simulated values \\(\\beta = \\mu_{sim} / \\mu_{obs}\\) ratio means (bias ratio) \\(         \\gamma = \\frac{\\sigma_{sim} / \\mu_{sim}}{\\sigma_{sim} / \\mu_{sim}}         \\) ratio Coefficients Variation (variability ratio)","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/kge2012.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Modified Kling-Gupta Efficiency (KGE') — kge2012","text":"Unlike Nash–Sutcliffe Efficiency (nse), KGE inherent benchmark \"mean flow\", \\(KGE' = 0\\) correspond baseline performance. Therefore, \\(KGE'\\) values interpreted \"good\" \"bad\" based solely sign magnitude. Instead, users encouraged examine individual components (\\(r\\), \\(\\beta\\), \\(\\gamma\\)) understand nature model performance consider defining explicit benchmarks based study context. discussion, see Knoben et al. (2019), caution directly translating NSE-based interpretation thresholds KGE.","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/kge2012.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Modified Kling-Gupta Efficiency (KGE') — kge2012","text":"Kling, H., Fuchs, M., & Paulin, M. (2012). Runoff conditions upper Danube basin ensemble climate change scenarios. Journal Hydrology, 424–425, 264–277. doi:10.1016/j.jhydrol.2012.01.011 Knoben, W. J. M., Freer, J. E., & Woods, R. . (2019). Technical note: Inherent benchmark ? Comparing Nash–Sutcliffe Kling–Gupta efficiency scores. Hydrology Earth System Sciences, 23, 4323–4331. doi:10.5194/hess-23-4323-2019","code":""},{"path":[]},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/kge2012.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Modified Kling-Gupta Efficiency (KGE') — kge2012","text":"","code":"library(tidyhydro) data(avacha)  # Supply truth and predictions as bare column names kge2012(avacha, obs, sim) #> # A tibble: 1 × 3 #>   .metric .estimator .estimate #>   <chr>   <chr>          <dbl> #> 1 kge2012 standard       0.947  # Or as numeric vectors kge2012_vec(avacha$obs, avacha$sim) #> [1] 0.9472891"},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/mse.html","id":null,"dir":"Reference","previous_headings":"","what":"Mean Squared Error (MSE) — mse","title":"Mean Squared Error (MSE) — mse","text":"MSE metric evaluates goodness fit model simulations observations (Fisher, 1920). Measured squared units truth estimate can vary \\(-\\infty\\) \\(+\\infty\\).","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/mse.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mean Squared Error (MSE) — mse","text":"","code":"mse(data, ...)  # S3 method for class 'data.frame' mse(data, truth, estimate, na_rm = TRUE, ...)  mse_vec(truth, estimate, na_rm = TRUE, ...)"},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/mse.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mean Squared Error (MSE) — mse","text":"data data.frame containing columns specified truth estimate arguments. ... currently used. truth column identifier true results (numeric). unquoted column name although argument passed expression supports quasiquotation (can unquote column names). _vec() functions, numeric vector. estimate column identifier predicted results (also numeric). truth can specified different ways primary method use unquoted variable name. _vec() functions, numeric vector. na_rm logical value indicating whether NA values stripped computation proceeds.","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/mse.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mean Squared Error (MSE) — mse","text":"tibble columns .metric, .estimator, .estimate 1 row values. grouped data frames, number rows returned number groups. mse_vec(), single numeric value (NA).","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/mse.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Mean Squared Error (MSE) — mse","text":"MSE estimated follows (Clark et al., 2021): $$ MSE = \\frac{1}{n} \\sum_{=1}^{n}{(sim_i - obs_i)^2} $$ : \\(sim\\) defines model simulations time step \\(\\) \\(obs\\) defines model observations time step \\(\\)","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/mse.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Mean Squared Error (MSE) — mse","text":"Fisher, R. . (1920). Accuracy observation, mathematical examination methods determining, mean error mean square error. Monthly Notices Royal Astronomical Society, 80, 758–770. doi:10.1093/mnras/80.8.758 Clark, M. P., Vogel, R. M., Lamontagne, J. R., Mizukami, N., Knoben, W. J. M., Tang, G., Gharari, S., Freer, J. E., Whitfield, P. H., Shook, K. R., & Papalexiou, S. M. (2021). Abuse Popular Performance Metrics Hydrologic Modeling. Water Resources Research, 57(9), e2020WR029001. doi:10.1029/2020WR029001","code":""},{"path":[]},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/mse.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mean Squared Error (MSE) — mse","text":"","code":"library(tidyhydro) data(avacha)  # Supply truth and predictions as bare column names mse(avacha, obs, sim) #> # A tibble: 1 × 3 #>   .metric .estimator .estimate #>   <chr>   <chr>          <dbl> #> 1 mse     standard        626.  # Or as numeric vectors mse_vec(avacha$obs, avacha$sim) #> [1] 625.9438"},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/nse.html","id":null,"dir":"Reference","previous_headings":"","what":"Nash-Sutcliffe efficiency (NSE) — nse","title":"Nash-Sutcliffe efficiency (NSE) — nse","text":"Calculate Nash-Sutcliffe efficiency (Nash & Sutcliffe, 1970). Dimensionless (\\(-\\infty\\) 1). nse() indicates well plot observed versus simulated data fits 1:1 line.","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/nse.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Nash-Sutcliffe efficiency (NSE) — nse","text":"","code":"nse(data, ...)  # S3 method for class 'data.frame' nse(data, truth, estimate, na_rm = TRUE, performance = FALSE, ...)  nse_vec(truth, estimate, na_rm = TRUE, performance = FALSE, ...)"},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/nse.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Nash-Sutcliffe efficiency (NSE) — nse","text":"data data.frame containing columns specified truth estimate arguments. ... currently used. truth column identifier true results (numeric). unquoted column name although argument passed expression supports quasiquotation (can unquote column names). _vec() functions, numeric vector. estimate column identifier predicted results (also numeric). truth can specified different ways primary method use unquoted variable name. _vec() functions, numeric vector. na_rm logical value indicating whether NA values stripped computation proceeds. performance optional column, indicating nse() return metric interpretation. See details.","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/nse.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Nash-Sutcliffe efficiency (NSE) — nse","text":"tibble columns .metric, .estimator, .estimate 1 row values. grouped data frames, number rows returned number groups. nse_vec(), single numeric value (NA).","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/nse.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Nash-Sutcliffe efficiency (NSE) — nse","text":"Nash-Sutcliffe efficiency normalized statistic determines relative magnitude residual variance (\"noise\") compared measured data variance (\"information\"; Nash Sutcliffe, 1970). formula NSE : $$   NSE = 1 - \\frac{     \\sum_{=1}^{n}{(sim_i - obs_i)^2}   }{     \\sum_{=1}^{n}{(obs_i - \\mu_{obs})^2}   } $$ : \\(sim\\) defines model simulations time step \\(\\) \\(obs\\) defines model observations time step \\(\\) \\(\\mu_{obs}\\) defines mean model observations According Moriasi et al. (2015) metric interpretation can follows: Excellent/Good – nse() > 0.8 Good – 0.6 <= nse() <= 0.8 Satisfactory – 0.5 < nse() < 0.6 Poor – nse() <= 0.5","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/nse.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Nash-Sutcliffe efficiency (NSE) — nse","text":"Nash, J. E., & Sutcliffe, J. V. (1970). River flow forecasting conceptual models part — discussion principles. Journal Hydrology, 10(3), 282–290. doi:10.1016/0022-1694(70)90255-6 Moriasi, D. N., Gitau, M. W., Pai, N., & Daggupati, P. (2015). Hydrologic Water Quality Models: Performance Measures Evaluation Criteria. Transactions ASABE, 58(6), 1763–1785. doi:10.13031/trans.58.10715","code":""},{"path":[]},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/nse.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Nash-Sutcliffe efficiency (NSE) — nse","text":"","code":"library(tidyhydro) data(avacha)  # Supply truth and predictions as bare column names nse(avacha, obs, sim) #> # A tibble: 1 × 3 #>   .metric .estimator .estimate #>   <chr>   <chr>          <dbl> #> 1 nse     standard       0.895  # Or as numeric vectors nse_vec(avacha$obs, avacha$sim) #> [1] 0.895008"},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/pbias.html","id":null,"dir":"Reference","previous_headings":"","what":"Percent BIAS (pBIAS) — pbias","title":"Percent BIAS (pBIAS) — pbias","text":"\\(pBIAS\\) deviation data evaluated, expressed percentage. measures average tendency simulated data larger smaller observed counterparts (Moriasi et al., 2015). optimal value \\(pBIAS\\) 0.0, low-magnitude values indicating accurate mode simulation. Positive values indicate model underestimation bias, negative values indicate model overestimation bias (Gupta et al., 1999).","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/pbias.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Percent BIAS (pBIAS) — pbias","text":"","code":"pbias(data, ...)  # S3 method for class 'data.frame' pbias(data, truth, estimate, na_rm = TRUE, performance = FALSE, ...)  pbias_vec(truth, estimate, na_rm = TRUE, performance = FALSE, ...)"},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/pbias.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Percent BIAS (pBIAS) — pbias","text":"data data.frame containing columns specified truth estimate arguments. ... currently used. truth column identifier true results (numeric). unquoted column name although argument passed expression supports quasiquotation (can unquote column names). _vec() functions, numeric vector. estimate column identifier predicted results (also numeric). truth can specified different ways primary method use unquoted variable name. _vec() functions, numeric vector. na_rm logical value indicating whether NA values stripped computation proceeds. performance optional column, indicating pbias() return metric interpretation. See details.","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/pbias.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Percent BIAS (pBIAS) — pbias","text":"tibble columns .metric, .estimator, .estimate 1 row values. grouped data frames, number rows returned number groups. pbias_vec(), single numeric value (NA).","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/pbias.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Percent BIAS (pBIAS) — pbias","text":"formula \\(pBIAS\\) : $$   pBIAS = 100 \\times \\frac{\\sum_{=1}^{n}{(sim_i - obs_i)}}                           {\\sum_{=1}^{n}{obs_i}} $$ : \\(sim\\) defines model simulations time step \\(\\) \\(obs\\) defines model observations time step \\(\\) According Moriasi et al. (2015) metric interpretation can follows: Excellent/Good – pbias() < ±5.0 Good – ±5.0 <= pbias() < ±10.0 Satisfactory – ±10.0 <= pbias() < ±15.0 Poor – pbias() >= ±15.0","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/pbias.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Percent BIAS (pBIAS) — pbias","text":"Moriasi, D. N., Gitau, M. W., Pai, N., & Daggupati, P. (2015). Hydrologic Water Quality Models: Performance Measures Evaluation Criteria. Transactions ASABE, 58(6), 1763–1785. doi:10.13031/trans.58.10715 Gupta, H. V., S. Sorooshian, P. O. Yapo. (1999). Status automatic calibration hydrologic models: Comparison multilevel expert calibration. J. Hydrologic Eng. 4(2): 135-143 doi:10.1061/(ASCE)1084-0699(1999)4:2(135)","code":""},{"path":[]},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/pbias.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Percent BIAS (pBIAS) — pbias","text":"","code":"library(tidyhydro) data(avacha)  # Supply truth and predictions as bare column names pbias(avacha, obs, sim) #> # A tibble: 1 × 3 #>   .metric .estimator .estimate #>   <chr>   <chr>          <dbl> #> 1 pbias   standard      0.0540  # Or as numeric vectors pbias_vec(avacha$obs, avacha$sim) #> [1] 0.0539719"},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/press.html","id":null,"dir":"Reference","previous_headings":"","what":"PRediction Error Sum of Squares (PRESS) — press","title":"PRediction Error Sum of Squares (PRESS) — press","text":"\\(PRESS\\) measure quality regression model using residuals. \\(PRESS\\) validation-type estimator error uses deleted residuals provide estimate prediction error. comparing alternate regression models, selecting model lowest value \\(PRESS\\) statistic good approach means equation produces least error making new predictions (see Helsel et al., 2020). particularly valuable assessing multiple forms multiple linear regressions, also useful simply comparing different options single explanatory variable single-variable regression models.","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/press.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"PRediction Error Sum of Squares (PRESS) — press","text":"","code":"press(data, ...)  # S3 method for class 'data.frame' press(data, truth, estimate, na_rm = TRUE, ...)  press_vec(truth, estimate, na_rm = TRUE, ...)"},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/press.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"PRediction Error Sum of Squares (PRESS) — press","text":"data data.frame containing columns specified truth estimate arguments. ... currently used. truth column identifier true results (numeric). unquoted column name although argument passed expression supports quasiquotation (can unquote column names). _vec() functions, numeric vector. estimate column identifier predicted results (also numeric). truth can specified different ways primary method use unquoted variable name. _vec() functions, numeric vector. na_rm logical value indicating whether NA values stripped computation proceeds.","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/press.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"PRediction Error Sum of Squares (PRESS) — press","text":"tibble columns .metric, .estimator, .estimate 1 row values. grouped data frames, number rows returned number groups. press_vec(), single numeric value (NA).","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/press.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"PRediction Error Sum of Squares (PRESS) — press","text":"\\(PRESS\\) relevant comparisons regression models response variable units (Rasmunsen et al., 2009). estimates follows: $$   PRESS = \\sum_{=1}^{n}{(sim_i - obs_i)^2} $$ : \\(sim\\) defines model simulations time step \\(\\) \\(obs\\) defines model observations time step \\(\\)","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/press.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"PRediction Error Sum of Squares (PRESS) — press","text":"Rasmussen, P. P., Gray, J. R., Glysson, G. D. & Ziegler, . C. Guidelines procedures computing time-series suspended-sediment concentrations loads -stream turbidity-sensor streamflow data. U.S. Geological Survey Techniques Methods book 3, chap. C4 53 (2009) https://pubs.usgs.gov/tm/tm3c4/. Helsel, D. R., Hirsch, R. M., Ryberg, K. R., Archfield, S. . & Gilroy, E. J. Statistical Methods Water Resources. 484 (2020) doi:10.3133/tm4A3 .","code":""},{"path":[]},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/press.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"PRediction Error Sum of Squares (PRESS) — press","text":"","code":"library(tidyhydro) data(avacha)  # Supply truth and predictions as bare column names press(avacha, obs, sim) #> # A tibble: 1 × 3 #>   .metric .estimator .estimate #>   <chr>   <chr>          <dbl> #> 1 press   standard     228469.  # Or as numeric vectors press_vec(avacha$obs, avacha$sim) #> [1] 228469.5"},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/sfe.html","id":null,"dir":"Reference","previous_headings":"","what":"Standard Factorial Error (SFE) — sfe","title":"Standard Factorial Error (SFE) — sfe","text":"Prediction standard factorial error estimated using standard regression methods (see Herschy, 1978).","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/sfe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Standard Factorial Error (SFE) — sfe","text":"","code":"sfe(data, ...)  # S3 method for class 'data.frame' sfe(data, truth, estimate, na_rm = TRUE, ...)  sfe_vec(truth, estimate, na_rm = TRUE, ...)"},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/sfe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Standard Factorial Error (SFE) — sfe","text":"data data.frame containing columns specified truth estimate arguments. ... currently used. truth column identifier true results (numeric). unquoted column name although argument passed expression supports quasiquotation (can unquote column names). _vec() functions, numeric vector. estimate column identifier predicted results (also numeric). truth can specified different ways primary method use unquoted variable name. _vec() functions, numeric vector. na_rm logical value indicating whether NA values stripped computation proceeds.","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/sfe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Standard Factorial Error (SFE) — sfe","text":"tibble columns .metric, .estimator, .estimate 1 row values. grouped data frames, number rows returned number groups. sfe_vec(), single numeric value (NA).","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/sfe.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Standard Factorial Error (SFE) — sfe","text":"metric widely used assessing Sediment Rating Curves (e.g., Hicks et al. 2020). model usually considered 'unacceptable' \\(SFE > 2\\), see Hicks et al. (2011). estimated follows: $$SFE = \\exp\\left(\\sqrt{\\frac{1}{n} \\sum_{=1}^{n} \\left( \\log\\left(\\frac{obs_i}{sim_i} \\right) \\right)^2 }\\right)$$ : \\(sim\\) defines model simulations time step \\(\\) \\(obs\\) defines model observations time step \\(\\)","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/sfe.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Standard Factorial Error (SFE) — sfe","text":"Herschy, R.W. 1978: Accuracy. Chapter 10 : Herschy, R.W. (ed.) Hydrometry - principles practices. John Wiley Sons, Chichester, 511 p. Hicks, D. M., Shankar, U., McKerchar, . ., Basher, L., Lynn, ., Page, M., & Jessen, M. (2011). Suspended Sediment Yields New Zealand Rivers. Journal Hydrology (New Zealand), 50(1), 81–142. doi:10.3316/informit.315190637227597 Hicks, M., Doyle, M., Watson, J., Holwerda, N., Lynch, B., Wyatt, J., Jones, H., & Hill, R. (2020). Measurement Fluvial Suspended Sediment Load Composition (. 1.0.0; National Environmental Monitoring Standards, p. 138). https://www.nems.org.nz/documents/suspended-sediment","code":""},{"path":[]},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/sfe.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Standard Factorial Error (SFE) — sfe","text":"","code":"library(tidyhydro) data(avacha)  # Supply truth and predictions as bare column names sfe(avacha, obs, sim) #> # A tibble: 1 × 3 #>   .metric .estimator .estimate #>   <chr>   <chr>          <dbl> #> 1 sfe     standard        1.12  # Or as numeric vectors sfe_vec(avacha$obs, avacha$sim) #> [1] 1.119667"},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/tidyhydro-package.html","id":null,"dir":"Reference","previous_headings":"","what":"tidyhydro: Tidy Metrics for Assessing Hydrological Models Performance — tidyhydro-package","title":"tidyhydro: Tidy Metrics for Assessing Hydrological Models Performance — tidyhydro-package","text":"Provides tidy tools comparing simulated observed hydrological time series. Includes compatibility 'yardstick' package model performance evaluation using commonly used metrics Nash–Sutcliffe Efficiency (NSE), Kling–Gupta Efficiency (KGE), percent bias (pBIAS) etc.","code":""},{"path":[]},{"path":"https://atsyplenkov.github.io/tidyhydro/reference/tidyhydro-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"tidyhydro: Tidy Metrics for Assessing Hydrological Models Performance — tidyhydro-package","text":"Maintainer: Anatoly Tsyplenkov atsyplenkov@fastmail.com (ORCID) [copyright holder]","code":""},{"path":[]},{"path":"https://atsyplenkov.github.io/tidyhydro/news/index.html","id":"new-features-0-1-1","dir":"Changelog","previous_headings":"","what":"New features","title":"tidyhydro 0.1.1","text":"Added support modified Kling-Gupta Efficiency (kge2012), aka \\(KGE'\\) (#8) Added vignettes website (#14)","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/news/index.html","id":"bug-fixes-0-1-1","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"tidyhydro 0.1.1","text":"Improved documenation switching \\url \\doi Removed unicode characters α, β","code":""},{"path":[]},{"path":"https://atsyplenkov.github.io/tidyhydro/news/index.html","id":"new-features-0-1-0","dir":"Changelog","previous_headings":"","what":"New features","title":"tidyhydro 0.1.0","text":"Added Kling-Gupta Efficiency (kge). Added Mean Squared Error (mse). Added example dataset (avacha) observed modelled daily water discharge measurements cubic meters per second (#6).","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/news/index.html","id":"bug-fixes-0-1-0","dir":"Changelog","previous_headings":"","what":"Bug fixes","title":"tidyhydro 0.1.0","text":"nse na_rm = TRUE flag missing values present simulated observed time series now returns results hydroGOF::NSE(). Previously, skip missing values observed time series.","code":""},{"path":"https://atsyplenkov.github.io/tidyhydro/news/index.html","id":"miscellaneous-0-1-0","dir":"Changelog","previous_headings":"","what":"Miscellaneous","title":"tidyhydro 0.1.0","text":"Introduced parameter testing via quickcheck (#3). Estimated metrics now validated implementations hydroGOF package. Removed unnecessary dependencies (#2). Updated documentation equations references.","code":""},{"path":[]},{"path":"https://atsyplenkov.github.io/tidyhydro/news/index.html","id":"new-features-0-0-4","dir":"Changelog","previous_headings":"","what":"New features","title":"tidyhydro 0.0.4","text":"Added Standard Factorial Error (sfe).","code":""},{"path":[]},{"path":"https://atsyplenkov.github.io/tidyhydro/news/index.html","id":"new-features-0-0-3","dir":"Changelog","previous_headings":"","what":"New features","title":"tidyhydro 0.0.3","text":"Added PRediction Error Sum Squares (press).","code":""}]
